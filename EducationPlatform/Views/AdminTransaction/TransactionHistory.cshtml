
@{
    ViewBag.Title = "TransactionHistory";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Document</title>
</head>
<body class="">
    <section class="">
        <header class="">

            <nav class="navbar navbar-expand-lg navbar-light shadow-sm m-1 p-1  ">
                <div class="container-fluid">

                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                        <div class="navbar-nav">

                            <a class="btn btn-outline-primary m-1" href="~/Admin/Index" role="button">Index</a>
                            <a class="btn btn-outline-primary m-1" href="~/Admin/AdminProfile" role="button">Profile</a>
                            <a class="btn btn-outline-primary m-1" href="~/Admin/AdminUpdate" role="button">Profile Update</a>
                            <a class="btn btn-outline-danger m-1" href="~/Admin/AdminLogout" role="button">Logout</a>

                        </div>
                    </div>
                </div>
            </nav>


        </header>
    </section>
    <section class="">
        <div class="row">
            <div class="col-lg-3 h-100">

                <div class="d-grid gap-2 shadow-lg m-1 p-3">

                    <h5>Varsity</h5>
                    <a href="~/AdminInstitution/InstitutionList" class="btn btn-outline-primary">Varsity List</a>
                    <a href="~/AdminInstitution/InstitutionAdd" class="btn btn-outline-primary">Add Varsity</a>

                    <h5>Mentor</h5>
                    <a href="~/AdminMentor/MentorList" class="btn  btn-outline-primary">Mentor List</a>
                    <a href="~/AdminMentor/MentorAdd" class="btn  btn-outline-primary">Add Mentor</a>

                    <h5>Student</h5>
                    <a href="~/AdminStudent/StudentList" class="btn  btn-outline-primary">Student List</a>
                    <a href="~/AdminStudent/StudentAdd" class="btn  btn-outline-primary">Add Student</a>
                    <h5>Courses</h5>
                    <a href="~/AdminCourse/AddCourse" class="btn  btn-outline-primary">Add Course</a>
                    <a href="~/AdminCourse/CourseList" class="btn  btn-outline-primary">Course List</a>
                    <h5>Transactions</h5>
                    <a href="~/AdminTransaction/TransactionHistory" class="btn  btn-outline-primary">All Transaction</a>
                    <h5>Search</h5>
                    <a href="~/AdminStudent/StudentSearch" class="btn  btn-outline-primary">Search Student</a>
                    <a href="~/AdminInstitution/InstitutionSearch" class="btn  btn-outline-primary">Search Institution</a>
                    <a href="~/AdminMentor/MentorSearch" class="btn  btn-outline-primary">Search Mentor</a>
                    <h5>Password Change Request</h5>
                    <a href="~/AdminStudent/StudentPasswordChangeRequest" class="btn  btn-outline-primary">Student</a>
                    <a href="~/AdminInstitution/InstitutionPasswordChangeRequest" class="btn  btn-outline-primary">Institution</a>
                    <h5>Revenue</h5>
                    <a href="~/AdminRevenue/Revenue" class="btn  btn-outline-primary">Revenue Details</a>
                    <h5>Certificate Request</h5>
                    <a href="~/AdminStudent/StudentCertificate" class="btn btn-outline-primary">Certificate Request</a>


                </div>

            </div>
            <div class=" col-lg-9  ">
                <div class="shadow-lg m-1 p-3 h-100 ">
                    <table class=" table table-striped table-bordered border-primary">
                        <thead>
                            <tr>
                                <th class="bg-warning" scope="col">ID</th>
                                <th class="bg-warning" scope="col">Student ID</th>
                                <th class="bg-warning" scope="col">Course Id</th>
                                <th class="bg-warning" scope="col">Institute Id</th>
                                <th class="bg-warning" scope="col">Bkash Transaction Number</th>
                                <th class="bg-warning" scope="col">Course Price</th>
                                <th class="bg-warning" scope="col">Credited Amount</th>
                                <th class="bg-warning"></th>

                            </tr>
                        </thead>
                        <tbody>


                            @foreach (var i in Model)
                            {
                                <tr>
                                    <th scope="row">@i.Id</th>
                                    <td>
                                        @i.StudentId

                                        <br />
                                        <a href="~/AdminStudent/SingleStudentList/@i.StudentId" class="btn btn-success">See Details</a>
                                    </td>
                                    <td>
                                        @i.CourseId

                                        <br />
                                        <a href="~/AdminCourse/SingleCourseList/@i.CourseId" class="btn btn-success">See Details</a>
                                    </td>

                                    <td>
                                        @i.InstitutionId
                                        <br />
                                        <a href="~/AdminInstitution/SingleInstitutionList/@i.InstitutionId" class="btn btn-success">See Details</a>
                                    </td>
                                    <td>@i.BkashTransactionNumber</td>
                                    <td> @i.CoursePrice tk</td>
                                    @{
                                        if (@i.CreditedAmount < @i.CoursePrice)
                                        {
                                            <td class="bg-danger">@i.CreditedAmount tk</td>
                                        }
                                        else
                                        {
                                            <td class="bg-success">@i.CreditedAmount tk</td>
                                        }
                                    }

                                    <td>
                                        @{
                                            if (@i.CreditedAmount < @i.CoursePrice)
                                            {


                                                <a href="~/AdminStudent/ValidateStudentCourse" class="btn btn-primary" disabled>Approve Student </a>
                                               
                                            }
                                            else
                                            {
                                                // Session.Remove("SudentId");
                                                //Session.Remove("CourseId");
                                                // TempData["SudentId"] = @i.StudentId;
                                                // TempData["CourseId"]=@i.CourseId;
                                                //  Session["SudentId"] = @i.StudentId;
                                                //   Session["CourseId"] = @i.CourseId;
                                                //Session.Remove("SudentId");
                                                //Session.Remove("CourseId");
                                                // TempData["SudentId"] = @i.StudentId;
                                                // TempData["CourseId"]=@i.CourseId;
                                                //  Session["SudentId"] = 8001;
                                                // Session["CourseId"] =1;
                                                <a href="~/AdminStudent/ValidateStudentCourse/@i.Id" class="btn btn-primary">Approve Student </a>

                                            }
                                        }

                                    </td>



                                </tr>
                            }

                        </tbody>


                    </table>






                </div>

            </div>

        </div>

    </section>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>





